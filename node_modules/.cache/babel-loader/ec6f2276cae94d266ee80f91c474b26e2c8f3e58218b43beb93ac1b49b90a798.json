{"ast":null,"code":"var _jsxFileName = \"/home/nafis/code/reactjs/interactive-model-workbench/src/components/NotebookArea.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { DndContext, closestCenter } from '@dnd-kit/core';\nimport { SortableContext, verticalListSortingStrategy } from '@dnd-kit/sortable';\nimport { useVirtualizer } from '@tanstack/react-virtual';\nimport { useNotebookStore } from '../store/notebookStore';\nimport SortableCell from './SortableCell';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotebookArea = ({\n  notebook\n}) => {\n  _s();\n  const {\n    addCell,\n    reorderCells\n  } = useNotebookStore();\n  const parentRef = React.useRef(null);\n  const virtualizer = useVirtualizer({\n    count: notebook.cells.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: () => 200,\n    // Estimated cell height\n    overscan: 5\n  });\n  const handleDragEnd = event => {\n    const {\n      active,\n      over\n    } = event;\n    if (over && active.id !== over.id) {\n      const oldIndex = notebook.cells.findIndex(cell => cell.id === active.id);\n      const newIndex = notebook.cells.findIndex(cell => cell.id === over.id);\n      if (oldIndex !== -1 && newIndex !== -1) {\n        reorderCells(notebook.id, oldIndex, newIndex);\n      }\n    }\n  };\n  const handleAddCell = () => {\n    addCell(notebook.id, {\n      type: 'code',\n      content: '',\n      output: [],\n      status: 'idle'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between p-4 border-b border-gray-200 bg-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-semibold text-gray-900\",\n          children: notebook.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: [notebook.cells.length, \" cells \\u2022 Last updated \", notebook.updatedAt.toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: `status-indicator status-${notebook.kernelStatus}`,\n          children: [\"Kernel: \", notebook.kernelStatus]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddCell,\n          className: \"btn btn-primary\",\n          children: \"+ Add Cell\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(DndContext, {\n        collisionDetection: closestCenter,\n        onDragEnd: handleDragEnd,\n        children: /*#__PURE__*/_jsxDEV(SortableContext, {\n          items: notebook.cells.map(cell => cell.id),\n          strategy: verticalListSortingStrategy,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: parentRef,\n            className: \"h-full overflow-auto p-4\",\n            style: {\n              height: `${virtualizer.getTotalSize()}px`,\n              width: '100%',\n              position: 'relative'\n            },\n            children: virtualizer.getVirtualItems().map(virtualRow => {\n              const cell = notebook.cells[virtualRow.index];\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  width: '100%',\n                  height: `${virtualRow.size}px`,\n                  transform: `translateY(${virtualRow.start}px)`\n                },\n                children: /*#__PURE__*/_jsxDEV(SortableCell, {\n                  cell: cell,\n                  notebookId: notebook.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 21\n                }, this)\n              }, cell.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(NotebookArea, \"i2Wxf6JUkuWwqzyQJdXSDaNWa+E=\", false, function () {\n  return [useNotebookStore, useVirtualizer];\n});\n_c = NotebookArea;\nexport default NotebookArea;\nvar _c;\n$RefreshReg$(_c, \"NotebookArea\");","map":{"version":3,"names":["React","DndContext","closestCenter","SortableContext","verticalListSortingStrategy","useVirtualizer","useNotebookStore","SortableCell","jsxDEV","_jsxDEV","NotebookArea","notebook","_s","addCell","reorderCells","parentRef","useRef","virtualizer","count","cells","length","getScrollElement","current","estimateSize","overscan","handleDragEnd","event","active","over","id","oldIndex","findIndex","cell","newIndex","handleAddCell","type","content","output","status","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","updatedAt","toLocaleDateString","kernelStatus","onClick","collisionDetection","onDragEnd","items","map","strategy","ref","style","height","getTotalSize","width","position","getVirtualItems","virtualRow","index","top","left","size","transform","start","notebookId","_c","$RefreshReg$"],"sources":["/home/nafis/code/reactjs/interactive-model-workbench/src/components/NotebookArea.tsx"],"sourcesContent":["import React from 'react';\nimport { DndContext, DragEndEvent, closestCenter } from '@dnd-kit/core';\nimport { SortableContext, verticalListSortingStrategy } from '@dnd-kit/sortable';\nimport { useVirtualizer } from '@tanstack/react-virtual';\nimport { useNotebookStore } from '../store/notebookStore';\nimport { Notebook } from '../types';\nimport Cell from './Cell';\nimport SortableCell from './SortableCell';\n\ninterface NotebookAreaProps {\n  notebook: Notebook;\n}\n\nconst NotebookArea: React.FC<NotebookAreaProps> = ({ notebook }) => {\n  const { addCell, reorderCells } = useNotebookStore();\n  const parentRef = React.useRef<HTMLDivElement>(null);\n\n  const virtualizer = useVirtualizer({\n    count: notebook.cells.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: () => 200, // Estimated cell height\n    overscan: 5,\n  });\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event;\n    \n    if (over && active.id !== over.id) {\n      const oldIndex = notebook.cells.findIndex(cell => cell.id === active.id);\n      const newIndex = notebook.cells.findIndex(cell => cell.id === over.id);\n      \n      if (oldIndex !== -1 && newIndex !== -1) {\n        reorderCells(notebook.id, oldIndex, newIndex);\n      }\n    }\n  };\n\n  const handleAddCell = () => {\n    addCell(notebook.id, {\n      type: 'code',\n      content: '',\n      output: [],\n      status: 'idle',\n    });\n  };\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-white\">\n        <div>\n          <h1 className=\"text-xl font-semibold text-gray-900\">{notebook.name}</h1>\n          <p className=\"text-sm text-gray-500\">\n            {notebook.cells.length} cells â€¢ Last updated {notebook.updatedAt.toLocaleDateString()}\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className={`status-indicator status-${notebook.kernelStatus}`}>\n            Kernel: {notebook.kernelStatus}\n          </span>\n          <button\n            onClick={handleAddCell}\n            className=\"btn btn-primary\"\n          >\n            + Add Cell\n          </button>\n        </div>\n      </div>\n\n      {/* Cells Container */}\n      <div className=\"flex-1 overflow-hidden\">\n        <DndContext\n          collisionDetection={closestCenter}\n          onDragEnd={handleDragEnd}\n        >\n          <SortableContext\n            items={notebook.cells.map(cell => cell.id)}\n            strategy={verticalListSortingStrategy}\n          >\n            <div\n              ref={parentRef}\n              className=\"h-full overflow-auto p-4\"\n              style={{\n                height: `${virtualizer.getTotalSize()}px`,\n                width: '100%',\n                position: 'relative',\n              }}\n            >\n              {virtualizer.getVirtualItems().map((virtualRow) => {\n                const cell = notebook.cells[virtualRow.index];\n                return (\n                  <div\n                    key={cell.id}\n                    style={{\n                      position: 'absolute',\n                      top: 0,\n                      left: 0,\n                      width: '100%',\n                      height: `${virtualRow.size}px`,\n                      transform: `translateY(${virtualRow.start}px)`,\n                    }}\n                  >\n                    <SortableCell cell={cell} notebookId={notebook.id} />\n                  </div>\n                );\n              })}\n            </div>\n          </SortableContext>\n        </DndContext>\n      </div>\n    </div>\n  );\n};\n\nexport default NotebookArea; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}